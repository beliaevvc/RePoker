@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

.font-press-start {
  font-family: 'Press Start 2P', cursive;
}

.perspective-1000 {
  perspective: 1000px;
}

.crt-overlay {
  background:
    linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%),
    linear-gradient(
      90deg,
      rgba(255, 0, 0, 0.06),
      rgba(0, 255, 0, 0.02),
      rgba(0, 0, 255, 0.06)
    );
  background-size: 100% 3px, 3px 100%;
  box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.9);
}

/* Safe-area padding (iOS) */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom);
}

@keyframes spin-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.animate-spin-slow {
  animation: spin-slow 120s linear infinite;
}

@keyframes spin-back {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(-360deg);
  }
}
.animate-slow-spin-back {
  animation: spin-back 60s linear infinite;
}

@keyframes pulse-fast {
  0%,
  100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.85;
  }
}
.animate-pulse-fast {
  animation: pulse-fast 0.8s ease-in-out infinite;
}

@keyframes card-idle {
  0%,
  100% {
    transform: translateY(0) rotate(var(--rot));
  }
  50% {
    transform: translateY(-5px) rotate(var(--rot));
  }
}
.animate-card-idle {
  animation: card-idle 4s ease-in-out infinite;
}

@keyframes card-float {
  0% {
    transform: translateY(-25px) scale(1.15);
  }
  50% {
    transform: translateY(-30px) scale(1.15);
  }
  100% {
    transform: translateY(-25px) scale(1.15);
  }
}
.animate-card-float {
  animation: card-float 2s ease-in-out infinite;
}

/* CASCADE: исчезновение выигрышных карт */
@keyframes cascade-vanish {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1) rotate(var(--rot));
    filter: blur(0px);
  }
  60% {
    opacity: 0.35;
    transform: translateY(10px) scale(0.92) rotate(calc(var(--rot) * 0.5));
    filter: blur(0.6px);
  }
  100% {
    opacity: 0;
    transform: translateY(18px) scale(0.75) rotate(0deg);
    filter: blur(1.2px);
  }
}
.animate-cascade-vanish {
  animation: cascade-vanish 0.26s ease-in forwards;
}

/* CASCADE: появление новых карт (заметный “drop-in”) */
@keyframes cascade-appear {
  0% {
    opacity: 0;
    transform: translateY(28px) scale(0.86) rotate(var(--rot));
    filter: blur(1.2px);
  }
  60% {
    opacity: 1;
    transform: translateY(-6px) scale(1.06) rotate(var(--rot));
    filter: blur(0px);
  }
  100% {
    opacity: 1;
    transform: translateY(0px) scale(1) rotate(var(--rot));
    filter: blur(0px);
  }
}
.animate-cascade-appear {
  animation: cascade-appear 0.28s cubic-bezier(0.2, 1.1, 0.2, 1) both;
}

/* CASCADE: короткий “флэш” на весь ряд карт после refill (делает появление заметным) */
@keyframes cascade-refill-flash {
  0% {
    filter: brightness(1) saturate(1);
  }
  30% {
    filter: brightness(1.45) saturate(1.25) drop-shadow(0 0 22px rgba(147, 197, 253, 0.55));
  }
  100% {
    filter: brightness(1) saturate(1);
  }
}
.animate-cascade-refill-flash {
  animation: cascade-refill-flash 0.22s ease-out both;
}

@keyframes shake-mid {
  0%,
  100% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(-2px, 2px);
  }
  75% {
    transform: translate(2px, -2px);
  }
}
.animate-shake-mid {
  animation: shake-mid 0.15s linear infinite;
}

@keyframes shake-violent {
  0% {
    transform: translate(0, 0) rotate(0deg);
  }
  25% {
    transform: translate(-5px, 5px) rotate(-1deg);
  }
  50% {
    transform: translate(5px, -5px) rotate(1deg);
  }
  75% {
    transform: translate(-5px, 5px) rotate(-1deg);
  }
}
.animate-shake-violent {
  animation: shake-violent 0.1s linear infinite;
}

@keyframes electric-dash {
  to {
    stroke-dashoffset: -1000;
  }
}
.animate-electric-dash {
  stroke-dasharray: 20 10;
  animation: electric-dash 2s linear infinite;
}

@keyframes fire-rise {
  from {
    background-position: 0 0;
  }
  to {
    background-position: 0 -100px;
  }
}
.animate-fire-rise {
  animation: fire-rise 1s linear infinite;
}

@keyframes fire-wave {
  0%,
  100% {
    opacity: 0.5;
  }
  50% {
    opacity: 0.8;
  }
}
.animate-fire-wave {
  animation: fire-wave 0.5s ease-in-out infinite;
}

@keyframes holofoil-sweep {
  0% {
    left: -150%;
  }
  100% {
    left: 150%;
  }
}
.animate-holofoil-sweep {
  animation: holofoil-sweep 3s ease-in-out infinite;
}

@keyframes shine {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(100%);
  }
}
.animate-shine {
  animation: shine 0.5s linear;
}

@keyframes bounce-subtle {
  0%,
  100% {
    transform: translateY(0) rotate(-3deg);
  }
  50% {
    transform: translateY(-10px) rotate(-3deg);
  }
}
.animate-bounce-subtle {
  animation: bounce-subtle 1s ease-in-out infinite;
}

/* CASCADE MULT: pop + glow при смене уровня множителя */
@keyframes cascade-mult-pop {
  0% {
    transform: translateY(2px) scale(0.94);
    filter: brightness(1) saturate(1);
  }
  55% {
    transform: translateY(-1px) scale(1.12);
    filter: brightness(1.15) saturate(1.2);
  }
  100% {
    transform: translateY(0px) scale(1);
    filter: brightness(1) saturate(1);
  }
}
.animate-cascade-mult-pop {
  animation: cascade-mult-pop 0.22s cubic-bezier(0.2, 1.1, 0.2, 1) both;
}

.cascade-mult-glow {
  box-shadow:
    0 0 18px rgba(255, 255, 255, 0.12),
    0 0 28px rgba(147, 197, 253, 0.18);
}

@keyframes glitch {
  0% {
    transform: translate(0) rotate(-3deg);
    clip-path: inset(0 0 0 0);
  }
  20% {
    transform: translate(-2px, 2px) rotate(-3deg);
    clip-path: inset(20% 0 0 0);
  }
  40% {
    transform: translate(2px, -2px) rotate(-3deg);
    clip-path: inset(0 0 20% 0);
  }
  60% {
    transform: translate(-2px, 2px) rotate(-3deg);
    clip-path: inset(0 20% 0 0);
  }
  80% {
    transform: translate(2px, -2px) rotate(-3deg);
    clip-path: inset(0 0 0 20%);
  }
  100% {
    transform: translate(0) rotate(-3deg);
    clip-path: inset(0 0 0 0);
  }
}
.animate-glitch {
  animation: glitch 0.3s linear infinite;
}

@keyframes static-shake {
  0% {
    transform: translate(1px, 1px) rotate(2deg);
  }
  10% {
    transform: translate(-1px, -2px) rotate(2deg);
  }
  20% {
    transform: translate(-3px, 0px) rotate(2deg);
  }
  30% {
    transform: translate(3px, 2px) rotate(2deg);
  }
  40% {
    transform: translate(1px, -1px) rotate(2deg);
  }
  50% {
    transform: translate(-1px, 2px) rotate(2deg);
  }
  60% {
    transform: translate(-3px, 1px) rotate(2deg);
  }
  70% {
    transform: translate(3px, 1px) rotate(2deg);
  }
  80% {
    transform: translate(-1px, -1px) rotate(2deg);
  }
  90% {
    transform: translate(1px, 2px) rotate(2deg);
  }
  100% {
    transform: translate(1px, -2px) rotate(2deg);
  }
}
.animate-static-shake {
  animation: static-shake 0.5s steps(3) infinite;
}

@keyframes flicker-text {
  0% {
    opacity: 1;
  }
  30% {
    opacity: 0.7;
  }
  50% {
    opacity: 0.9;
  }
  70% {
    opacity: 0.6;
  }
  100% {
    opacity: 1;
  }
}
.animate-flicker-text {
  animation: flicker-text 0.2s steps(4) infinite;
}

@keyframes logo-glitch {
  0% {
    opacity: 1;
    transform: translate(0);
  }
  95% {
    opacity: 1;
    transform: translate(0);
  }
  96% {
    opacity: 0.8;
    transform: translate(-2px, 2px);
  }
  97% {
    opacity: 0.1;
    transform: translate(2px, -2px);
  }
  98% {
    opacity: 1;
    transform: translate(0);
  }
  99% {
    opacity: 0.5;
    transform: translate(-2px, 0);
  }
  100% {
    opacity: 1;
    transform: translate(0);
  }
}
.animate-logo-glitch {
  animation: logo-glitch 4s infinite;
}

@keyframes glitch-text-1 {
  0% {
    clip-path: inset(40% 0 61% 0);
    opacity: 0;
  }
  20% {
    clip-path: inset(92% 0 1% 0);
    opacity: 0.5;
  }
  40% {
    clip-path: inset(43% 0 1% 0);
    opacity: 0;
  }
  60% {
    clip-path: inset(25% 0 58% 0);
    opacity: 0.7;
  }
  80% {
    clip-path: inset(54% 0 7% 0);
    opacity: 0;
  }
  100% {
    clip-path: inset(58% 0 43% 0);
    opacity: 0.5;
  }
}
.animate-glitch-text-1 {
  animation: glitch-text-1 2s infinite linear alternate-reverse;
}

@keyframes glitch-text-2 {
  0% {
    clip-path: inset(12% 0 55% 0);
    opacity: 0.5;
  }
  20% {
    clip-path: inset(1% 0 25% 0);
    opacity: 0;
  }
  40% {
    clip-path: inset(22% 0 9% 0);
    opacity: 0.6;
  }
  60% {
    clip-path: inset(80% 0 5% 0);
    opacity: 0;
  }
  80% {
    clip-path: inset(30% 0 15% 0);
    opacity: 0.4;
  }
  100% {
    clip-path: inset(10% 0 80% 0);
    opacity: 0;
  }
}
.animate-glitch-text-2 {
  animation: glitch-text-2 2s infinite linear alternate-reverse;
}
@keyframes spin-electric-1 {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.animate-spin-electric-1 {
  animation: spin-electric-1 1s linear infinite;
}

@keyframes spin-electric-2 {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(-360deg);
  }
}
.animate-spin-electric-2 {
  animation: spin-electric-2 2s linear infinite;
}

@keyframes spin-electric-3 {
  0% {
    transform: rotate(0deg) scale(1);
  }
  50% {
    transform: rotate(180deg) scale(1.1);
  }
  100% {
    transform: rotate(360deg) scale(1);
  }
}
.animate-spin-electric-3 {
  animation: spin-electric-3 4s linear infinite;
}


/* --- NEW STYLES FOR MAX WIN --- */
@keyframes gold-shimmer {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.text-gold-shimmer {
  background: linear-gradient(
    90deg,
    #ffd700 0%,
    #fbf5b7 25%,
    #ffb700 45%,
    #fff 50%,
    #ffb700 55%,
    #fbf5b7 75%,
    #ffd700 100%
  );
  background-size: 200% auto;
  color: transparent;
  -webkit-background-clip: text;
  background-clip: text;
  animation: gold-shimmer 3s linear infinite;
  /* Fallback for shadow on text with background-clip: drop-shadow filter on parent is better, 
     but this can work if text is solid in some browsers. We use filter in JSX. */
}

/* --- INSANE SHAKE FOR MAX WIN --- */
@keyframes shake-insane {
  0% { transform: translate(0, 0) rotate(0deg) scale(1); }
  10% { transform: translate(-10px, -10px) rotate(-5deg) scale(1.1); }
  20% { transform: translate(10px, 10px) rotate(5deg) scale(0.9); }
  30% { transform: translate(-15px, 5px) rotate(-8deg) scale(1.15); }
  40% { transform: translate(15px, -5px) rotate(8deg) scale(0.85); }
  50% { transform: translate(-5px, 15px) rotate(-3deg) scale(1.2); }
  60% { transform: translate(5px, -15px) rotate(3deg) scale(1); }
  70% { transform: translate(-12px, 8px) rotate(-6deg) scale(1.1); }
  80% { transform: translate(12px, -8px) rotate(6deg) scale(0.9); }
  90% { transform: translate(-8px, -12px) rotate(-4deg) scale(1.05); }
  100% { transform: translate(0, 0) rotate(0deg) scale(1); }
}

.animate-shake-insane {
  animation: shake-insane 0.4s linear infinite;
}

/* --- JACKPOT CINEMATIC (MAX WIN reveal after TOTAL WIN) --- */
/* Активируется классом `.maxwin-cinematic` на корневом контейнере. */

@keyframes maxwin-jitter-ramp {
  0% {
    transform: translate(0, 0);
    filter: none;
  }
  15% {
    transform: translate(-1px, 1px);
    filter: contrast(1.05) saturate(1.05);
  }
  30% {
    transform: translate(2px, -2px);
    filter: contrast(1.12) saturate(1.12);
  }
  45% {
    transform: translate(-3px, 3px);
    filter: contrast(1.18) saturate(1.18);
  }
  60% {
    transform: translate(5px, -4px);
    filter: contrast(1.28) saturate(1.2) blur(0.3px);
  }
  75% {
    transform: translate(-7px, 6px);
    filter: contrast(1.35) saturate(1.25) blur(0.6px);
  }
  90% {
    transform: translate(9px, -8px);
    filter: contrast(1.45) saturate(1.3) blur(0.9px);
  }
  100% {
    transform: translate(-12px, 10px);
    filter: contrast(1.55) saturate(1.35) blur(1.1px);
  }
}

.maxwin-cinematic-shake {
  /* 1.2s пауза после финального баннера → затем “нарастание” тряски */
  animation: maxwin-jitter-ramp 0.9s steps(1, end) 1.25s both;
}

@keyframes maxwin-noise-flicker {
  0% {
    opacity: 0;
    transform: translate(0, 0);
  }
  20% {
    opacity: 0.35;
    transform: translate(-2px, 1px);
  }
  40% {
    opacity: 0.55;
    transform: translate(2px, -1px);
  }
  60% {
    opacity: 0.45;
    transform: translate(-3px, 2px);
  }
  80% {
    opacity: 0.65;
    transform: translate(3px, -2px);
  }
  100% {
    opacity: 0.8;
    transform: translate(0, 0);
  }
}

.maxwin-cinematic-noise {
  opacity: 0;
  background-image:
    repeating-linear-gradient(
      0deg,
      rgba(255, 255, 255, 0.03),
      rgba(255, 255, 255, 0.03) 1px,
      rgba(0, 0, 0, 0.03) 2px,
      rgba(0, 0, 0, 0.03) 3px
    ),
    radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.08), transparent 55%);
  mix-blend-mode: overlay;
  animation: maxwin-noise-flicker 0.55s steps(1, end) 1.15s both;
}

@keyframes maxwin-blackout {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 0.92;
  }
}

.maxwin-cinematic-blackout {
  opacity: 0;
  background: radial-gradient(circle at 50% 45%, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.98));
  animation: maxwin-blackout 0.28s ease-out 2.05s both;
}

@keyframes maxwin-reveal {
  0% {
    opacity: 0;
    transform: scale(0.02);
    filter: blur(3px);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: blur(0px);
  }
}

.maxwin-cinematic-pop {
  opacity: 0;
  transform-origin: 50% 50%;
  animation: maxwin-reveal 0.42s cubic-bezier(0.15, 1.35, 0.2, 1) 2.18s both;
}

@keyframes maxwin-pop-shake {
  0%,
  100% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(-3px, 3px);
  }
  50% {
    transform: translate(3px, -3px);
  }
  75% {
    transform: translate(-3px, 3px);
  }
}

.maxwin-cinematic-pop-inner {
  animation: maxwin-pop-shake 0.09s linear infinite 2.65s;
}



