# Archive — 2025-12-23: Актуализация Style Guide

## Summary

Задача: актуализировать `memory-bank/style-guide.md` с учётом реальных стилистических паттернов проекта RePoker.

Итог: документ полностью переработан и теперь отражает актуальные стилистические паттерны проекта. Добавлены разделы по код-стайлу (JavaScript/TypeScript, React, именование), UI/стилям (Tailwind CSS, кастомные стили, визуальный стиль) и документации. Документ стал практичным справочником для разработчиков проекта.

## Requirements

- Актуализировать `style-guide.md` с учётом реальных стилистических паттернов проекта.
- Зафиксировать актуальные паттерны кода (JSDoc-комментарии, TypeScript, React с `memo()`, именование).
- Описать UI/стилистические паттерны (Tailwind CSS v4, кастомные стили, визуальный стиль).
- Убрать нерелевантную информацию (информация о Memory Bank командах была добавлена по ошибке в первой итерации).
- Сделать документ практичным справочником с конкретными примерами.

## Implementation

### Изучение кодовой базы

Перед обновлением документа изучены реальные примеры кода для выявления актуальных паттернов:
- `src/application/game/usecases/startDeal.ts` — пример JSDoc-комментариев и структуры файлов
- `src/domain/hand-evaluator/getBestHand.ts` — пример TypeScript в domain-слое
- `src/ui/screens/balatro-inferno/BalatroInferno.jsx` — пример React-паттернов с `memo()`

### Структурные изменения

Документ полностью переработан со следующей структурой:

1. **Язык** — правила использования русского языка в документации.

2. **Код-стайл (JavaScript/TypeScript)**:
   - **Общие принципы**: функциональный стиль, иммутабельность, TypeScript для domain/application/infrastructure.
   - **Структура файлов**: JSDoc-комментарии в начале файла с указанием пути, слоя, назначения и инвариантов (с примером).
   - **React компоненты**: функциональные компоненты + хуки, использование `memo()`, именованные экспорты.
   - **Именование**: camelCase для функций, PascalCase для типов, UPPER_SNAKE_CASE для констант, camelCase/PascalCase для файлов.

3. **UI/стили**:
   - **Tailwind CSS**: utility-классы, `clamp()` для адаптивности, кастомные классы в `src/balatroInferno.css`.
   - **Кастомные стили**: CRT-оверлей (`.crt-overlay`), шрифт Press Start 2P (`.font-press-start`).
   - **Визуальный стиль**: пиксельный ретро-стиль, цветовая палитра, эффекты (тени, трансформации, градиенты).

4. **Документация (Memory Bank)**: краткие правила для документации Memory Bank.

### Удалённая информация

Убрана информация о командах Memory Bank (`/van`, `/plan`, `/build` и т.д.) и структуре Memory Bank файлов, которая была добавлена по ошибке в первой итерации. Эта информация не относится к стилю кода проекта.

## Testing

- Проверка линтером: документ прошёл проверку без ошибок.
- Проверка структуры: документ логично структурирован и удобен для навигации.
- Проверка примеров: все примеры кода соответствуют реальным паттернам проекта.

## Lessons Learned

### Удачные решения

1. **Изучение реального кода перед обновлением документа** — позволило зафиксировать актуальные паттерны, а не абстрактные рекомендации.

2. **Структурирование по подразделам** — разделение на "Общие принципы", "Структура файлов", "React компоненты", "Именование" делает документ более навигабельным.

3. **Конкретные примеры** — добавление примера JSDoc-комментария и примеров именования делает документ практичным справочником.

4. **Фокус на стиле кода** — после исправления документ стал действительно про стиль проекта, а не про мета-информацию о Memory Bank.

### Что улучшить в процессе

1. **Уточнять контекст задачи** — если запрос неоднозначен, лучше уточнить у пользователя, что именно нужно актуализировать, прежде чем делать изменения.

2. **Проверять назначение документа** — `style-guide.md` должен быть про стиль кода проекта, а не про мета-информацию о системе разработки.

3. **Итеративный подход** — важно быстро реагировать на обратную связь пользователя и корректировать направление работы.

### Выводы

- Документ теперь отражает реальные стилистические паттерны проекта RePoker.
- Структура документа логична и удобна для использования как справочник.
- Важно различать мета-информацию о процессе разработки (Memory Bank) и информацию о стиле кода проекта.

## References

- Рефлексия: `memory-bank/reflection/reflection-2025-12-23-style-guide.md`
- Обновлённый документ: `memory-bank/style-guide.md`

