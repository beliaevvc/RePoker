# Archive — 2025-01-XX — Адаптивная верстка: позиционирование HandBoard и CascadeMultiplierIndicator

## Summary
Реализована адаптивная верстка для поднятия карт (HandBoard) и блока cascade mult (CascadeMultiplierIndicator) ближе к центру экрана на множестве специфичных разрешений с высотой 958px. В процессе выполнения задачи список разрешений расширился по запросам пользователя. Дополнительно исправлен артефакт полос на тексте CascadeMultiplierIndicator при обновлениях.

## Requirements
- Поднять карты и индикатор каскадного множителя ближе к центру на указанных разрешениях (изначально: 407x958, 510x958, 702x958, 830x958)
- Не ломать существующую адаптивность на других разрешениях
- Сохранить визуальный стиль
- В процессе выполнения добавлены требования для множества других разрешений по запросам пользователя

## Implementation

### CSS класс `.hand-board-container-adaptive`
- **Файл**: `src/balatroInferno.css`
- **Подход**: кастомный CSS с медиа-запросами вместо Tailwind arbitrary variants (более надежно для специфичных разрешений)
- **Структура правил**:
  - Общее правило для диапазона 400-840px × 950-970px
  - Универсальное правило для всех разрешений с высотой 958px
  - Специфичные правила для отдельных разрешений:
    - 378x958, 388x958, 395x958, 367x958
    - 797x958, 807x958, 824x958, 838x958, 842x958
    - Диапазон 774-846x958 (с увеличенным отступом `clamp(120px, 18vh, 200px)`)
    - Разрешения до 353x958 и меньше
  - Значения `margin-top`: `clamp(80px, 12vh, 150px)` для большинства разрешений, `clamp(120px, 18vh, 200px)` для диапазона 774-846px
  - Значения `margin-bottom`: `clamp(40px, 6vh, 100px)`

### Применение класса
- **Файл**: `src/ui/screens/balatro-inferno/BalatroInferno.jsx` (строка 1074)
- Класс добавлен к существующим классам контейнера
- Сохранён `mt-auto` для других разрешений (не попадающих под медиа-запросы)

### Исправление бага с полосками
- **Проблема**: на изменённых разрешениях появился артефакт полос на тексте "CASCADE MULT X1 · STEP 1"
- **Решение**: использовано решение из архива (`archive-2025-12-23-chips-compact-overflow-artifact.md`)
- **Файл**: `src/ui/screens/balatro-inferno/components/CascadeMultiplierIndicator.jsx`
- Добавлены классы `transform-gpu` и `will-change-transform` к тексту для стабилизации рендера при обновлениях

## Testing
- `npm run lint` — ✅ ошибок нет
- `npm run build` — ✅ успешно (множество сборок в процессе итераций)
- Визуальная проверка — выполнена пользователем на различных разрешениях

## Lessons learned
- **Использование кастомного CSS**: подход с кастомными медиа-запросами оказался более гибким, чем Tailwind arbitrary variants, для специфичных разрешений
- **Сохранение существующей адаптивности**: добавление класса не сломало существующую адаптивность на других разрешениях благодаря использованию `!important` и специфичных медиа-запросов
- **Применение решения из архива**: быстрое нахождение и применение известного решения для бага с полосками показало ценность архивации решений
- **Итеративный подход**: множество специфичных правил можно было бы объединить в более общие диапазоны, если бы изначально были известны все требования. Однако итеративный подход по запросам пользователя привёл к более точной настройке
- **Документирование**: стоило бы зафиксировать логику выбора значений `margin-top` для разных разрешений

## References
- Reflection: `memory-bank/reflection/reflection-2025-01-XX-adaptive-hand-board-positioning.md`
- Решение бага с полосками: `memory-bank/archive/archive-2025-12-23-chips-compact-overflow-artifact.md`

