# Archive: UI - Paytable Modal

## Summary
Реализовано модальное окно **Paytable** (Таблица выплат) в стиле `CascadeHistoryModal`, показывающее комбинации, множители и выплаты для текущей ставки. В таблицу добавлены визуальные примеры комбинаций (миниатюры карт) и возможность изменять ставку прямо в окне для калькуляции потенциальных выигрышей.

## Requirements
- Точка входа: кнопка/линк `PAYTABLE` в верхней панели главного экрана (Header), доступная в любом режиме.
- Стиль: темный оверлей, модальное окно (Slate theme), скроллируемый список.
- Контент: Список комбинаций (от Royal Flush до Pair) с множителями (`xN`) и выплатами (`$Amount`).
- Интерактивность:
  - Возможность менять ставку (`+/-` в футере модалки), что динамически обновляет значения выплат.
  - Визуализация примеров рук (`MiniCard`), где карты, составляющие комбинацию, подсвечены, а кикеры затемнены.

## Implementation
1. **Component**: `src/ui/screens/balatro-inferno/components/PaytableModal.jsx`.
   - Использует `HAND_MULTIPLIERS` из domain слоя.
   - Рендерит список `ORDERED_COMBOS`.
   - Включает `EXAMPLE_HANDS` — хардкод примеров комбинаций с указанием `winningIndices` для правильной подсветки.
   - Футер содержит контролы изменения ставки (прокидываются `onAdjustBet`).
2. **Integration**:
   - `useBalatroInfernoController.js`: добавлен стейт `paytableModalOpen`.
   - `BalatroInferno.jsx`: добавлена кнопка-триггер в хедер и рендер компонента `<PaytableModal />`.

## Testing
- **Manual QA**:
  - Открытие/закрытие модалки (кнопка, крестик, backdrop, ESC).
  - Скролл списка.
  - Изменение ставки кнопками `+/-` -> обновление выплат в реальном времени.
  - Проверка визуализации: кикеры затемнены, выигрышные карты яркие.
- **Build**: `npm run build` — успешно.

## Lessons Learned
- **Интерактивные справки**: Превращение статичной таблицы выплат в калькулятор (через изменение ставки) значительно повышает полезность фичи для игрока.
- **Визуализация правил**: Примеры рук (с затемнением лишних карт) работают лучше текстового описания правил.
- **Reuse**: Переиспользование `MiniCard` и стилей модалки ускорило разработку.

## References
- Reflection: `memory-bank/reflection/reflection-2025-12-23-paytable.md`
- Creative: `memory-bank/creative/creative-paytable.md`

