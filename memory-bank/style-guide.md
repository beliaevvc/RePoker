# Style Guide — RePoker

## Язык
- **Всегда писать по-русски** во всех ответах ассистента и документах Memory Bank.
- Исключения: код, имена файлов/путей, названия npm-скриптов/CLI-команд, идентификаторы в коде (их не переводим).

## Код-стайл (JavaScript/TypeScript)

### Общие принципы
- Функциональный стиль: предпочитать чистые функции, избегать мутаций.
- Использовать `const` везде, где возможно; `let` только при необходимости переприсваивания.
- Иммутабельные операции: `...spread`, `map`, `filter`, `reduce` вместо мутаций массивов/объектов.
- TypeScript для слоёв `domain`/`application`/`infrastructure`; UI пока на JS/JSX (постепенная миграция).

### Структура файлов
- В начале файла — JSDoc-комментарий с описанием:
  - Путь к файлу (`Файл: src/...`)
  - Слой (`Слой: domain/application/infrastructure/ui`)
  - Назначение (`Назначение: ...`)
  - Инварианты (`Инварианты: ...`)
- Пример:
```typescript
/**
 * Файл: src/application/game/usecases/startDeal.ts
 * Слой: application
 * Назначение: старт раздачи (списание ставки, сброс временных данных, новая колода).
 *
 * Инварианты:
 * - Поведение 1:1 с `handleDeal()` в `BalatroInferno.jsx`.
 * - Если balance < bet, стартовать нельзя (use-case в этом случае возвращает null).
 */
```

### React компоненты
- Функциональные компоненты + хуки.
- Использовать `memo()` для оптимизации перерисовок, где это уместно.
- Для больших компонентов: выделять логические секции комментариями (если нужно).
- Именованные экспорты для компонентов: `export const ComponentName = memo(function ComponentName() { ... })`.

### Именование
- Функции: camelCase (`startDealUseCase`, `getBestHand`).
- Типы/интерфейсы: PascalCase (`GameModel`, `HandResult`).
- Константы: UPPER_SNAKE_CASE (`HAND_MULTIPLIERS`, `ANTE_VALUES`).
- Файлы: camelCase для JS/TS (`startDeal.ts`, `getBestHand.ts`), PascalCase для компонентов (`Card.jsx`).

## UI/стили

### Tailwind CSS
- Tailwind v4 — основной инструмент верстки.
- Использовать utility-классы в JSX для стилизации.
- Responsive: использовать `clamp()` для адаптивных размеров (`text-[clamp(14px,4.2vw,32px)]`).
- Для сложных эффектов: кастомные классы в `src/balatroInferno.css`.

### Кастомные стили
- Кастомные анимации/эффекты — в `src/balatroInferno.css`.
- CRT-оверлей: класс `.crt-overlay` для эффекта старинного монитора.
- Шрифт: **Press Start 2P** (применяется через класс `.font-press-start`).

### Визуальный стиль
- Пиксельный ретро-стиль: ретро-аркада с пиксельной графикой.
- Цветовая палитра: тёмные фоны (`bg-[#1e293b]`), яркие акценты (синий/красный для границ).
- Эффекты: тени (`shadow-lg`), трансформации (`skew-x-[-10deg]`), градиенты для shimmer-эффектов.

## Документация (Memory Bank)
- Писать кратко и практично: "что сделали", "почему", "как проверить".
- При изменениях архитектуры/паттернов обновлять `systemPatterns.md`.
- Перед REFLECT: обновлять документацию в `Docs/` там, где изменения затрагивают архитектуру/флоу/перфоманс.
