# Задачи (Memory Bank)

## Текущая задача
- Подготовить **подробный, бесшовный план рефакторинга** (мастер‑план + набор под‑планов по этапам) для приведения проекта к **Clean Architecture** и best practices, с использованием **Context7** при работе с библиотеками и с **русскими комментариями** (в заголовках файлов и к каждой функции).

## Сложность
- **TBD (ожидаемо Level 3)**: многоэтапный рефакторинг, затрагивает структуру проекта и код‑стайл; нужен поэтапный план с “гейтами” после каждого шага.

## План
- Мастер‑план и под‑планы описаны в документе: `memory-bank/refactor-plan.md`.
- Кратко: 8 этапов (стабилизация → TS+Vitest → domain → application → infrastructure → ui → **mobile** → финализация), после каждого этапа проект должен собираться и проходить smoke‑проверку.

## Чеклист
- [x] Ответить на уточняющие вопросы по целям/границам/технике
- [x] Черновой мастер‑план (этапы + гейты)
- [x] Под‑планы по этапам (детально)
- [x] Финализация: критерии “готово”, риски и стратегия отката

## Реализация (по этапам)
- [x] Этап 1: стабилизация/контроль поведения (комментарии + гейты)
- [x] Этап 2: TypeScript + Vitest (каркас)
- [x] Этап 3: domain (карты/колода/оценка) + unit‑тесты
- [x] Этап 4: application (use‑cases)
- [x] Этап 5: infrastructure (ports/adapters RNG/Clock)
- [x] Этап 6: UI декомпозиция + стили
- [x] Этап 7: mobile адаптация
- [x] Этап 8: финализация/документация
