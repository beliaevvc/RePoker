# System Patterns — RePoker

## Высокоуровневая архитектура
- **Single-screen app**: `App` рендерит один основной компонент `BalatroInferno`.
- **Локальное состояние через React Hooks**: `useState` + `useEffect` управляют фазами игры и анимациями.

## Паттерны состояния
- `gameState`: `'idle' | 'dealing' | 'suspense' | 'result'`
- `useEffect` реагирует на `gameState` и:
  - “раскладывает” карты по таймеру (`dealIndex`)
  - затем вычисляет результат, обновляет `balance`/`streak`, переводит в `result`

## Генерация данных
- `createDeck()` создаёт колоду 52 карты + 1 джокер, иногда добавляет ещё джокеры по редкому random-roll.
- Перемешивание: `sort(() => Math.random() - 0.5)` (фаново, не крипто-качество).

## Оценка комбинаций
- `getBestHand(cards)`:
  - без джокеров — `evaluateStandard`
  - с 1–2 джокерами — брутфорс перебор подстановок (до 2704 комбинаций), выбирается лучший `score`
  - отдельные быстрые ветки для 3/4/5 джокеров

## UI/стили
- Tailwind utility-классы прямо в JSX + кастомные keyframes/animation классы в `balatroInferno.css`.
- Визуальные компоненты “внутри файла” (`Card`, `PixelSuit`, `PixelFire`, `ElectricPlasmaOrbs`, и т.д.) — пока без вынесения по модулям.

## Дебаг/чест-кнопки
- Внизу UI есть скрытые/полупрозрачные кнопки `3J/4J/5J`, вызывающие `forceHand()` для теста спец-комбинаций.
